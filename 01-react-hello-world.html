<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>hello world</title>
		<script src="react.development.js" type="text/javascript" charset="utf-8"></script>
		<script src="react-dom.development.js" type="text/javascript" charset="utf-8"></script>
		<!-- babel,es6转es5，jsx转js -->
		<script src="babel.min.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="app">
			
		</div>
	</body>
	<script type="text/babel">
		{
			/*
				大括号是js的开始和结束标志，这是js的注释方式
			*/
		}
		//jsx语法，采用小驼峰的方式定义属性（eg:tabIndex）可以直接在js中写html标签，只能有一个根元素
		//然后babel将html标签转换成对应的函数生成React元素
		const name = "elena"
		function userInfo(user){
			return <p>{user.sex}</p>
		}
		const user = {
			sex: 'girl'
		}
		class Clock extends React.Component {
			constructor(props) {
				super(props)  //把props参数传给父类
				this.state = {
					date: new Date()
				}
			}
			componentDidMount() {
				this.timerID = setInterval( 
					() => this.tick(),
				1000)
			}
			componentWillUnmount() {
				clearInterval(this.timerID)
			}
			tick() {
				this.setState({
					date: new Date()
				})
			}
			render() {
				return (
					<div>
						<h1>It is {this.state.date.toLocaleTimeString()}</h1>
					</div>
				)
			}
		}
		function tick() {
			//return <h2>It is { new Date().toLocaleTimeString()}.</h2>	
			return <Clock date={new Date()}/>
		}
		const element = <h1 tabIndex="0" className="name">hello,{name},{userInfo(user),tick()}</h1>
		ReactDOM.render(
			element,
			document.getElementById("app")
		)
		//setInterval(tick,1000)
		//函数创建标签的语法
		// ReactDOM.render(
		// 	React.createElement("h1","","hello"),
		// 	document.getElementById("app")
		// )
	</script>
</html>
